@import url('@tabler/core/dist/css/tabler.min.css');

.App {
  min-height: 100vh;
}

/* Tabler 스타일 커스터마이징 */
.navbar-brand img {
  height: 32px;
  width: auto;
}

.page-header {
  margin-bottom: 2rem;
}

.card {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.btn {
  font-weight: 500;
}

.table th {
  font-weight: 600;
  color: #4a5568;
  border-top: none;
}

.badge {
  font-weight: 500;
}

/* 로딩 스피너 */
.loading {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
}

/* 폼 스타일 */
.form-control:focus {
  border-color: #0054a6;
  box-shadow: 0 0 0 0.2rem rgba(0, 84, 166, 0.25);
}

/* 사이드바 스타일 */
.navbar-nav .nav-link {
  color: #718096;
  font-weight: 500;
  margin-bottom: 0.5rem; /* 메뉴 간격 더 넓게 */
  border-radius: 0.375rem; /* 둥근 모서리 추가 */
  transition: all 0.2s ease-in-out; /* 부드러운 전환 효과 */
}

.navbar-nav .nav-link:hover,
.navbar-nav .nav-link.active {
  color: #0054a6;
  background-color: rgba(0, 84, 166, 0.1);
}

/* 대시보드 카드 */
.dashboard-card {
  transition: transform 0.2s ease-in-out;
}

.dashboard-card:hover {
  transform: translateY(-2px);
}

/* 테이블 반응형 */
.table-responsive {
  border-radius: 0.375rem;
  border: 1px solid #e2e8f0;
}

/* 페이지네이션 */
.pagination .page-link {
  color: #4a5568;
  border-color: #e2e8f0;
}

.pagination .page-link:hover {
  color: #0054a6;
  background-color: #f7fafc;
  border-color: #e2e8f0;
}

.pagination .page-item.active .page-link {
  background-color: #0054a6;
  border-color: #0054a6;
}

/* 알림 스타일 */
.alert {
  border: none;
  border-radius: 0.5rem;
}

/* 모달 스타일 */
.modal-content {
  border: none;
  border-radius: 0.5rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.modal-header {
  border-bottom: 1px solid #e2e8f0;
}

.modal-footer {
  border-top: 1px solid #e2e8f0;
}

/* 모달 백드롭 전체 화면 덮기 */
.modal-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  z-index: 1040 !important;
}

/* 중첩된 모달의 백드롭 z-index 조정 */
.modal-backdrop:nth-of-type(2) {
  z-index: 1055 !important;
}

.modal-backdrop:nth-of-type(3) {
  z-index: 1065 !important;
}

/* 모달이 열릴 때 body 스크롤 방지 */
body.modal-open {
  overflow: hidden !important;
  padding-right: 0 !important;
}

/* 모달 다이얼로그 위치 조정 */
.modal {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  outline: 0 !important;
  z-index: 1050 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* 중첩 모달을 위한 더 높은 z-index */
.modal.show:nth-of-type(2) {
  z-index: 1060 !important;
}

.modal.show:nth-of-type(3) {
  z-index: 1070 !important;
}

/* 장비관리 모달 전용 z-index (가장 높은 우선순위) */
.modal[id*="resource"], .modal[id*="Resource"], .modal[id*="equipment"], .modal[id*="Equipment"] {
  z-index: 1080 !important;
}

/* 장비관리 모달의 백드롭도 높은 z-index */
.modal-backdrop.show:last-of-type {
  z-index: 1075 !important;
}

.modal-dialog {
  position: relative !important;
  width: auto !important;
  margin: 1.75rem auto !important;
  pointer-events: none !important;
  max-width: 500px !important;
}

/* 큰 모달 (장비관리 등)의 경우 더 넓은 폭 */
.modal-lg .modal-dialog,
.modal-dialog.modal-lg {
  max-width: 800px !important;
}

/* 모달 다이얼로그 중앙 정렬 강화 */
.modal-dialog-centered {
  display: flex !important;
  align-items: center !important;
  min-height: calc(100% - 3.5rem) !important;
}

/* 모달 컨텐츠 중앙 위치 보정 */
.modal-dialog-centered .modal-content {
  width: 100% !important;
}

.modal-content {
  position: relative !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  pointer-events: auto !important;
  background-color: #fff !important;
  background-clip: padding-box !important;
  border: none;
  border-radius: 0.5rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* 모달 내부 스크롤 영역 */
.modal-body {
  position: relative !important;
  flex: 1 1 auto !important;
  padding: 1rem !important;
  max-height: calc(100vh - 200px) !important;
  overflow-y: auto !important;
}

/* SpareParts 페이지 모달에 백드롭 추가 */
.modal.show {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

/* 모든 모달에 통일된 백드롭 스타일 적용 */
.modal.modal-blur.fade.show {
  background-color: rgba(0, 0, 0, 0.5) !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 1050 !important;
}

/* 중첩 모달 처리 - 더 나중에 열린 모달이 위에 오도록 */
.modal.show + .modal.show,
.modal.show:last-of-type {
  z-index: 1080 !important;
}

/* 다중 모달 환경에서 백드롭 순서 관리 */
.modal-backdrop + .modal-backdrop {
  z-index: 1075 !important;
}

/* 반응형 네비게이션 스타일 */
@media (max-width: 575.98px) {
  /* xs 브레이크포인트 */
  .navbar-nav .nav-link {
    padding: 0.5rem 0.25rem;
    text-align: center;
    min-width: 44px; /* 터치 친화적인 최소 크기 */
    margin-bottom: 0.25rem; /* 모바일에서도 적절한 간격 */
  }
  
  .navbar-nav .nav-link-icon {
    margin-bottom: 0;
  }
  
  .navbar-nav .nav-link-icon .icon {
    width: 20px;
    height: 20px;
  }
  
  /* 드롭다운 메뉴는 모바일에서 텍스트 표시 */
  .navbar-nav .dropdown .nav-link-title {
    display: inline !important;
    font-size: 0.75rem;
    margin-left: 0.25rem;
  }

  /* 모바일에서 모달 마진 조정 */
  .modal-dialog {
    margin: 0.5rem auto !important;
  }

  /* 모바일에서 모달 헤더/푸터 패딩 줄이기 */
  .modal-header,
  .modal-footer {
    padding: 0.75rem 1rem !important;
  }

  /* 모바일에서 모달 바디 패딩 줄이기 */
  .modal-body {
    padding: 1rem !important;
  }

  /* 모바일에서 폼 요소 크기 조정 */
  .modal .form-label {
    font-size: 0.875rem !important;
    margin-bottom: 0.25rem !important;
  }

  .modal .form-control,
  .modal .form-select {
    font-size: 0.875rem !important;
  }

  /* 모바일에서 버튼 크기 조정 */
  .modal .btn {
    font-size: 0.875rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  /* 모바일에서 모달 타이틀 크기 조정 */
  .modal-title {
    font-size: 1.125rem !important;
  }
}

@media (min-width: 576px) {
  /* sm 브레이크포인트 이상에서는 텍스트 표시 */
  .navbar-nav .nav-link {
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem; /* 데스크톱에서 넉넉한 간격 */
  }
  
  .navbar-nav .nav-link-icon {
    margin-right: 0.5rem;
  }
}

/* 모바일 (iPhone 12 mini: 375px 기준) */
@media (max-width: 575.98px) {
  .modal-dialog {
    max-width: calc(100vw - 1rem) !important;
    margin: 0.5rem !important;
  }

  .modal-lg .modal-dialog,
  .modal-dialog.modal-lg {
    max-width: calc(100vw - 1rem) !important;
  }

  .modal-xl .modal-dialog,
  .modal-dialog.modal-xl {
    max-width: calc(100vw - 1rem) !important;
  }

  /* 모바일에서 모달 바디 높이 제한 */
  .modal-body {
    max-height: calc(100vh - 150px) !important;
  }
}

/* 중간 화면 (태블릿) */
@media (min-width: 576px) and (max-width: 767.98px) {
  .modal-dialog {
    max-width: 540px !important;
  }

  .modal-lg .modal-dialog,
  .modal-dialog.modal-lg {
    max-width: 540px !important;
  }

  .modal-xl .modal-dialog,
  .modal-dialog.modal-xl {
    max-width: 540px !important;
  }
}

/* 중간 화면에서 모달 크기 조정 */
@media (min-width: 768px) and (max-width: 991.98px) {
  .modal-dialog {
    max-width: 720px !important;
  }

  .modal-lg .modal-dialog,
  .modal-dialog.modal-lg {
    max-width: 720px !important;
  }

  .modal-xl .modal-dialog,
  .modal-dialog.modal-xl {
    max-width: 720px !important;
  }
}

/* 큰 화면에서 모달 크기 조정 */
@media (min-width: 992px) and (max-width: 1199.98px) {
  .modal-dialog {
    max-width: 600px !important;
  }

  .modal-lg .modal-dialog,
  .modal-dialog.modal-lg {
    max-width: 800px !important;
  }

  .modal-xl .modal-dialog,
  .modal-dialog.modal-xl {
    max-width: 960px !important;
  }
}

/* 큰 화면에서 모달 최대 크기 및 최소 크기 */
@media (min-width: 1200px) {
  .modal-dialog {
    max-width: 600px !important;
    min-width: 600px !important;
  }

  .modal-lg .modal-dialog,
  .modal-dialog.modal-lg {
    max-width: 900px !important;
    min-width: 800px !important; /* 데스크톱에서 최소 크기 보장 */
  }

  /* 특히 큰 콘텐츠를 가진 모달들 (리포트, 장비관리 등) */
  .modal-xl .modal-dialog,
  .modal-dialog.modal-xl {
    max-width: 1140px !important;
    min-width: 1000px !important;
  }
}

/* 네비게이션 아이콘과 텍스트 정렬 */
.navbar-nav .nav-link {
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (min-width: 576px) {
  .navbar-nav .nav-link {
    justify-content: flex-start;
  }
}

/* 테이블 기본 스트라이프 스타일 */
.table-striped tbody tr:nth-of-type(odd) td {
  background-color: #f8f9fa; /* 홀수 행 - 연한 회색 */
}

.table-striped tbody tr:nth-of-type(even) td {
  background-color: #ffffff; /* 짝수 행 - 흰색 */
}

/* 테이블 행 호버 효과 - 최고 우선순위로 강제 적용 */
.table-striped tbody tr:hover td,
.table-striped tbody tr:nth-of-type(odd):hover td,
.table-striped tbody tr:nth-of-type(even):hover td,
.table tbody tr:hover td,
.table-striped tbody tr.hover td,
tbody tr:nth-of-type(even):hover td,
tbody tr:nth-of-type(odd):hover td,
tr:nth-of-type(even):hover td,
tr:nth-of-type(odd):hover td,
.table tr:hover td {
  background-color: #e3f2fd !important; /* 호버 시 연한 파란색 */
  transition: background-color 0.15s ease-in-out !important;
}

/* Bootstrap과 Tabler의 기본 hover 효과 완전 무력화 및 강제 오버라이드 */
.table-hover tbody tr:hover td,
.table-hover tbody tr:hover th,
.table-hover tbody tr:nth-of-type(even):hover td,
.table-hover tbody tr:nth-of-type(odd):hover td,
.table-light tbody tr:hover td,
.table tbody tr:nth-of-type(even):hover td,
.table tbody tr:nth-of-type(odd):hover td {
  background-color: #e3f2fd !important;
  transition: background-color 0.15s ease-in-out !important;
}

/* 테이블 헤더 스타일 통일 */
.table > thead > tr > th {
  background-color: transparent;
  border-bottom: 2px solid #dee2e6;
}

/* Bootstrap table-light 오버라이드 */
.table-light > thead > tr > th,
.table-light > tbody > tr > td,
.table-light > tbody > tr > th {
  background-color: transparent;
}
